{% extends 'base.html' %}
{% load static %}
{% block content %}
<section id="about" class="about">
  <h2>Upload a File</h2>
    <div class="col-lg-6 pt-4 pt-lg-0 order-2 order-lg-1 content" data-aos="fade-right" data-aos-delay="100">
      <h3>Welcome to the malware analysis Labs where you can analyze suspicious files</h3>
      <p class="fst-italic">
      Our malware Database uses static malware analysis techniques including signature based detection.
      </p>
          <ul>
            <li><i class="ri-check-double-line"></i> We use Yara rules for signature scan.</li>
            <li><i class="ri-check-double-line"></i> We use pescan for binary inspection.</li>
            <li><i class="ri-check-double-line"></i> We inspect files MD5 hashes.</li>
          </ul>
      <h1>Submit Malware Sample</h1>

      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- Display form errors if any -->
        {% if form.errors %}
          <div class="alert alert-danger" role="alert">
            <ul>
              {% for field, errors in form.errors.items %}
                <li>{{ field }}: {{ errors|join:", " }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
        
        <!-- File input field -->
        <div class="mb-3">
            <label for="file" class="form-label">Upload File</label>
            <input type="file" class="form-control" id="file" name="file" required>
        </div>

        <!-- Hidden input for uploaded by (optional, depending on how it's handled) -->
        <input type="hidden" name="uploaded_by" value="{{ request.user.id }}">
        
        <!-- Other form fields -->
        <!-- ... -->

        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
</section>
{% endblock %}
